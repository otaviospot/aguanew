<section class="testimonial-area">
  <div class="container">
    <div class="row">
      <div class="col">
        <div class="section-capture">
          <div class="section-title">
            {% if section.settings.section_title != '' %}
            <h2>{{ section.settings.section_title }}</h2>
            {% endif %}
          </div>
          <div class="swiper-buttons">
            <button class="swiper-prev swiper-prev-{{ section.id }}"><i class="feather-arrow-left"></i></button>
            <button class="swiper-next swiper-next-{{ section.id }}"><i class="feather-arrow-right"></i></button>
          </div>
        </div>

        <div class="swiper" id="testimonial-slider-{{ section.id }}">
          <div class="swiper-wrapper">
            {% for block in section.blocks %}
            <div class="swiper-slide">
              <div class="testimonial-main">
                <div class="testimonial-icon">
                  <span class="icon"><i class="{{ block.settings.testimonial_icon }}"></i></span>
                </div>
                {% if block.settings.testimonial_description != '' %}
                <div class="testimonial-desc">
                  <p>{{ block.settings.testimonial_description }}</p>
                </div>
                {% endif %}
                <div class="testimonial-author">
                  <div class="testimonial-image-bio">
                    <div class="testimonial-image">
                      <span class="image">
                        {%- if block.settings.testimonial_image -%}
                        {{ block.settings.testimonial_image | image_url: width: 1024 | image_tag:
                          loading: 'lazy',
                          width: block.settings.testimonial_image.width,
                          height: block.settings.testimonial_image.height,
                          class: "img-fluid",
                          alt: block.settings.testimonial_image.alt | escape }}
                        {%- else -%}
                        {%- capture placeholder -%}collection-{% cycle 1, 2, 3, 4, 5, 6 %}{%- endcapture -%}
                        {{ placeholder | placeholder_svg_tag: 'placeholder-svg' }}
                        {%- endif -%}
                      </span>
                    </div>
                    <div class="author-info">
                      {% if block.settings.testimonial_author_name != '' %}
                      <h6 class="author-title">{{ block.settings.testimonial_author_name }}</h6>
                      {% endif %}
                      {% if block.settings.testimonial_author_bio != '' %}
                      <span class="author-bio">{{ block.settings.testimonial_author_bio }}</span>
                      {% endif %}
                      <div class="testimonial-review">
                        <span class="testi-review">
                          <i class="fa fa-star{% if block.settings.pro_testi_review == '1' or block.settings.pro_testi_review == '2' or block.settings.pro_testi_review == '3' or block.settings.pro_testi_review == '4' or block.settings.pro_testi_review == '5' %} fill {% endif %}"></i>
                          <i class="fa fa-star{% if block.settings.pro_testi_review == '2' or block.settings.pro_testi_review == '3' or block.settings.pro_testi_review == '4' or block.settings.pro_testi_review == '5' %} fill {% endif %}"></i>
                          <i class="fa fa-star{% if block.settings.pro_testi_review == '3' or block.settings.pro_testi_review == '4' or block.settings.pro_testi_review == '5' %} fill {% endif %}"></i>
                          <i class="fa fa-star{% if block.settings.pro_testi_review == '4' or block.settings.pro_testi_review == '5' %} fill {% endif %}"></i>
                          <i class="fa fa-star{% if block.settings.pro_testi_review == '5' %} fill {% endif %}"></i>
                        </span>
                      </div>
                    </div>
                  </div>
                  <div class="testimonial-review">
                    <span class="testi-review">
                      <i class="fa fa-star{% if block.settings.pro_testi_review == '1' or block.settings.pro_testi_review == '2' or block.settings.pro_testi_review == '3' or block.settings.pro_testi_review == '4' or block.settings.pro_testi_review == '5' %} fill {% endif %}"></i>
                      <i class="fa fa-star{% if block.settings.pro_testi_review == '2' or block.settings.pro_testi_review == '3' or block.settings.pro_testi_review == '4' or block.settings.pro_testi_review == '5' %} fill {% endif %}"></i>
                      <i class="fa fa-star{% if block.settings.pro_testi_review == '3' or block.settings.pro_testi_review == '4' or block.settings.pro_testi_review == '5' %} fill {% endif %}"></i>
                      <i class="fa fa-star{% if block.settings.pro_testi_review == '4' or block.settings.pro_testi_review == '5' %} fill {% endif %}"></i>
                      <i class="fa fa-star{% if block.settings.pro_testi_review == '5' %} fill {% endif %}"></i>
                    </span>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>

        <div class="swiper-buttons">
          <button class="swiper-prev swiper-prev-{{ section.id }}"><i class="feather-arrow-left"></i></button>
          <button class="swiper-next swiper-next-{{ section.id }}"><i class="feather-arrow-right"></i></button>
        </div>
      </div>
    </div>
  </div>
</section>
<script type="text/javascript">
  addEventListener('DOMContentLoaded', (event) => {
    var swiper = new Swiper('.swiper#testimonial-slider-{{ section.id }}', {
      slidesPerView: 1,
      spaceBetween: 30,
      observer: true,
      observeParents: true,
      watchSlidesProgress: true,
      loop: true,
      {%- if settings.enable_rtl -%}
      rtl: true,
      {%- endif -%}
      navigation: {
        nextEl: '.swiper-next-{{ section.id }}',
        prevEl: '.swiper-prev-{{ section.id }}',
      },
      {% comment %} autoplay: {
        delay: 5000,
        disableOnInteraction: false,
        pauseOnMouseEnter: true
      }, {% endcomment %}
      breakpoints: {
        0: {
          slidesPerView: 1,
          spaceBetween: 12
        },
        320: {
          slidesPerView: 1,
          spaceBetween: 12
        },
        360: {
          slidesPerView: 1,
          spaceBetween: 12
        },
        540: {
          slidesPerView: 1,
          spaceBetween: 12
        },
        640: {
          slidesPerView: 1,
          spaceBetween: 12
        },
        768: {
          slidesPerView: 1,
          spaceBetween: 30
        },
        1024: {
          slidesPerView: 1,
          spaceBetween: 30
        },
        1199: {
          slidesPerView: 2,
          spaceBetween: 30
        },
        1299: {
          slidesPerView: 2,
          spaceBetween: 30
        },
        1399: {
          slidesPerView: 2,
          spaceBetween: 30
        },
        1599: {
          slidesPerView: 2,
          spaceBetween: 30
        }
      }
    });
  });
</script>
{% schema %}
{
  "name": "Testimonial",
  "settings": [
    {
      "type": "header",
      "content": "Section Padding"
    },
    {
      "type": "paragraph",
      "content": "Desktop / Laptop / tablet"
    },
    {
      "type": "range",
      "id": "section_padding_top",
      "label": "Section Padding Top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 100
    },
    {
      "type": "range",
      "id": "section_padding_bottom",
      "label": "Section Padding Bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 100
    },
    {
      "type": "paragraph",
      "content": "Ipad pro / Ipad"
    },
    {
      "type": "range",
      "id": "section_padding_top_ip",
      "label": "Section Padding Top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 80
    },
    {
      "type": "range",
      "id": "section_padding_bottom_ip",
      "label": "Section Padding Bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 80
    },
    {
      "type": "paragraph",
      "content": "Mobile"
    },
    {
      "type": "range",
      "id": "section_padding_top_xs",
      "label": "Section Padding Top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 60
    },
    {
      "type": "range",
      "id": "section_padding_bottom_xs",
      "label": "Section Padding Bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 60
    },
    {
      "type": "header",
      "content": "Section background Color"
    },
    {
      "type": "checkbox",
      "id": "section_bg_color_enable",
      "label": "Show background Color",
      "default": true
    },
    {
      "type": "color",
      "id": "section_bg_color",
      "label": "Background Color",
      "default": "#F7F7F7"
    },
    {
      "type": "header",
      "content": "Section Border"
    },
    {
      "type": "range",
      "id": "border",
      "label": "Border",
      "min": 0,
      "max": 2,
      "step": 1,
      "unit": "px",
      "default": 1
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border Color",
      "default": "#808080"
    },
    {
      "type": "checkbox",
      "id": "border_enable",
      "label": "Show Section Border",
      "default": true
    },
    {
      "type": "range",
      "id": "border_color_opacity",
      "label": "Theme Border Color Opacity",
      "min": 0,
      "max": 1,
      "step": 0.1,
      "default": 0.3
    },
    {
      "type": "header",
      "content": "Section Content"
    },
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "Customer love"
    }
  ],
  "blocks": [
    {
      "type": "testi_slide",
      "name": "Testimonial",
      "settings": [
        {
          "type": "header",
          "content": "Testimonial Icon"
        },
        {
          "type": "text",
          "id": "testimonial_icon",
          "label": "Icon Class",
          "default": "fa fa-quote-left"
        },
        {
          "type": "header",
          "content": "Testimonial Description"
        },
        {
          "type": "textarea",
          "id": "testimonial_description",
          "label": "Description",
          "default": "If you use this site regularly and would like to help keep the site on the internet, please consider donating a small sum to help pay for the hosting and bandwidth bill."
        },
        {
          "type": "header",
          "content": "Testimonial Author"
        },
        {
          "type": "image_picker",
          "id": "testimonial_image",
          "label": "Author image",
          "info": "Recommended Size: 512px x 512px"
        },
        {
          "type": "text",
          "id": "testimonial_author_name",
          "label": "Author Name",
          "default": "David williams"
        },
        {
          "type": "text",
          "id": "testimonial_author_bio",
          "label": "Author Bio",
          "default": "Medical manager"
        },
        {
          "type": "select",
          "id": "pro_testi_review",
          "label": "Customer Review",
          "options": [
            {
              "label": "1 review",
              "value": "1"
            },
            {
              "label": "2 review",
              "value": "2"
            },
            {
              "label": "3 review",
              "value": "3"
            },
            {
              "label": "4 review",
              "value": "4"
            },
            {
              "label": "5 review",
              "value": "5"
            }
          ],
          "default": "5"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Testimonial"
    }
  ]
}
{% endschema %}

<style>
.testimonial-area {
  padding-top: {{ section.settings.section_padding_top }}px;
  padding-bottom: {{ section.settings.section_padding_bottom }}px;
  {% if section.settings.section_bg_color_enable %}
  background-color: {{ section.settings.section_bg_color }};
  {% endif %}
  {% if section.settings.border_enable %}
  border-top: {{ section.settings.border }}px solid {{ section.settings.border_color | color_modify: 'alpha', section.settings.border_color_opacity }};
  {% endif %}
}
@media (max-width: 1199px) {
  .testimonial-area {
    padding-top: {{ section.settings.section_padding_top_ip }}px;
    padding-bottom: {{ section.settings.section_padding_bottom_ip }}px;
  }
}
@media (max-width: 767px) {
  .testimonial-area {
    padding-top: {{ section.settings.section_padding_top_xs }}px;
    padding-bottom: {{ section.settings.section_padding_bottom_xs }}px;
  }
}

/* title css */
.testimonial-area .section-capture {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.testimonial-area .section-capture .swiper-buttons {
  margin-top: 0;
}
@media (max-width: 479px) {
  .testimonial-area .section-capture {
    flex-direction: column;
  }
  .testimonial-area .section-capture .swiper-buttons {
    display: none;
  }
}

/* testimonial css */
.testimonial-area .testimonial-main {
  background-color: #FFFFFF;
  padding: 50px;
  border-radius: var(--sti-border-radius);
}
.testimonial-area .testimonial-main .testimonial-icon span.icon {
  font-size: 55px;
  color: var(--font-color-primary);
  display: block;
  line-height: 0;
}
.testimonial-area .testimonial-main .testimonial-desc {
  margin-top: 13px;
}
.testimonial-area .testimonial-main .testimonial-author {
  margin-top: 21px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.testimonial-area .testimonial-main .testimonial-author .testimonial-image-bio {
  display: flex;
  align-items: center;
}
.testimonial-area .testimonial-main .testimonial-author .testimonial-image-bio .testimonial-image span.image {
  width: 90px;
  display: block;
  border-radius: 100%;
  overflow: hidden;
}
.testimonial-area .testimonial-main .testimonial-author .testimonial-image-bio .author-info {
  {%- if settings.enable_rtl -%}
  padding-right: 15px;
  {%- else -%}
  padding-left: 15px;
  {%- endif -%}
}
.testimonial-area .testimonial-main .testimonial-author .testimonial-image-bio .author-info h6.author-title {
  font-size: 18px;
  font-weight: var(--font-custom-weight-section-header);
}
.testimonial-area .testimonial-main .testimonial-author .testimonial-image-bio .author-info span.author-bio {
  color: var(--font-color-paragraph);
  margin-top: 7px;
}
.testimonial-area .testimonial-main .testimonial-author .testimonial-image-bio .author-info .testimonial-review {
  display: none;
}
/* review css */
.testimonial-review span {
  display: block;
}
.testimonial-review span.testi-review {
  display: flex;
  line-height: 0;
}
.testimonial-review span.testi-review i {
  color: #FFD100;
  {%- if settings.enable_rtl -%}
  margin-left: 5px;
  {%- else -%}
  margin-right: 5px;
  {%- endif -%}
}
.testimonial-review span.testi-review i:last-child {
  {%- if settings.enable_rtl -%}
  margin-left: 0px;
  {%- else -%}
  margin-right: 0px;
  {%- endif -%}
}
.testimonial-review span.testi-review i::before {
  content: "\f006";
}
.testimonial-review span.testi-review i.fill::before {
  content: "\f005";
}
@media (max-width: 1199px) {
  .testimonial-area .testimonial-main {
    padding: 40px;
  }
}
@media (max-width: 767px) {
  .testimonial-area .testimonial-main {
    padding: 30px;
  }
}
@media (max-width: 479px) {
  .testimonial-area .testimonial-main .testimonial-author .testimonial-review {
    display: none;
  }
  .testimonial-area .testimonial-main .testimonial-author .testimonial-image-bio .author-info .testimonial-review {
    display: flex;
    margin-top: 12px;
  }
}

/* mobile slider button */
.testimonial-area .swiper-buttons {
  display: none;
}
@media (max-width: 479px) {
  .testimonial-area .swiper-buttons {
    display: flex;
  }
}
</style>