{%- liquid
  if product.compare_at_price > product.price
    assign on_sale = true
  else
    assign on_sale = false
  endif
  assign current_variant = product.selected_or_first_available_variant
  assign product_form_id = 'product-form-' | append: section.id | append: '-' | append: product.id
  assign product_form_installments_id = product_form_id | append: '-installments'
-%}

<section class="product-details-page">
  <div class="container">
    <div class="row">
      {% if section.settings.product_style_handle == 'style_1' %}
        <div class="col-xl-6 col-lg-6 col-md-12 col-12 product_details product_details_gallery">
          <div class="product_detail_img">
            <!-- product_big_images start -->
            <div class="product_img_top">
              <div
                class="slider-for"
                {% if settings.enable_rtl %}
                  dir="rtl"
                {% endif %}
                id="slider-for"
              >
                {%- for media in product.media -%}
                  {% render 'media', media: media %}
                {%- endfor -%}
              </div>
            </div>
            <div class="product_slider_img">
              <div class="product_more_img">
                <div
                  class="slider-nav pro-detail-slider gallery-thumbs product-single__thumbnails-{{ section.id }}"
                  id="pro-detail-slider"
                  {% if settings.enable_rtl %}
                    dir="rtl"
                  {% endif %}
                >
                  {% for media in product.media %}
                    <div
                      class="slick-slide"
                      data-image-id="{{ media.id }}"
                      data-image="{{ media.src | image_url: 'master' }}"
                    >
                      <a
                        class="product-single__thumbnail"
                        href="javascript:void(0)"
                        class="text-link product-single__thumbnail"
                      >
                        <img
                          src="{{ media.preview_image | image_url: width: 200, height: 220, crop: 'center' }}"
                          class="img-fluid"
                          width="{{ media.preview_image.width }}"
                          height="{{ media.preview_image.height }}"
                          alt="{{ media.preview_image.alt }}"
                          loading="lazy"
                        >
                        {%- if media.media_type == 'video' or media.media_type == 'external_video' -%}
                          <span class="icon-play">
                            <i class="ti-control-play"></i>
                          </span>
                        {%- endif -%}
                        {%- if media.media_type == 'model' -%}
                          <div class="product-single__thumbnail-badge">
                            <i class="ti-box"></i>
                          </div>
                        {%- endif -%}
                      </a>
                    </div>
                  {% endfor %}
                </div>
              </div>
            </div>
          </div>
        </div>
      {% endif %}
      {% if section.settings.product_style_handle == 'style_2' %}
        <div class="col-xl-6 col-lg-6 col-md-12 col-12 product_details product_details_gallery">
          <div class="product_detail_img">
            <div class="product_img_top">
              <div
                class="slider-for"
                {% if settings.enable_rtl %}
                  dir="rtl"
                {% endif %}
              >
                {%- for media in product.media -%}
                  {% render 'media', media: media %}
                {%- endfor -%}
              </div>
            </div>
            <div class="product_slider_img">
              <div class="product_more_img">
                <div
                  class="slider-nav pro-detail-slider gallery-thumbs product-single__thumbnails-{{ section.id }}"
                  id="pro-detail-slider"
                  {% if settings.enable_rtl %}
                    dir="rtl"
                  {% endif %}
                >
                  {% for media in product.media %}
                    <div
                      class="slick-slide"
                      data-image-id="{{ media.id }}"
                      data-image="{{ media.src | image_url: 'master' }}"
                    >
                      <a
                        class="product-single__thumbnail"
                        href="javascript:void(0)"
                        class="text-link product-single__thumbnail"
                      >
                        <img
                          class="product-single__thumbnail-image"
                          src="{{ media.preview_image | image_url: 'master' }}"
                          alt="{{ media.alt | escape }}"
                          width="{{ media.width }}"
                          height="{{ media.height }}"
                          loading="lazy"
                        >
                        {%- if media.media_type == 'video' or media.media_type == 'external_video' -%}
                          <span class="icon-play">
                            <i class="ti-control-play"></i>
                          </span>
                        {%- endif -%}
                        {%- if media.media_type == 'model' -%}
                          <div class="product-single__thumbnail-badge">
                            <i class="ti-box"></i>
                          </div>
                        {%- endif -%}
                      </a>
                    </div>
                  {% endfor %}
                </div>
              </div>
            </div>
          </div>
        </div>
      {% endif %}
      {% if section.settings.product_style_handle == 'style_3' %}
        <div class="col-xl-6 col-lg-6 col-md-12 col-12 product_details product_details_gallery">
          <div class="product_detail_img">
            <div class="product_slider_img">
              <div class="product_more_img">
                <div
                  class="slider-nav pro-detail-slider gallery-thumbs product-single__thumbnails-{{ section.id }}"
                  id="pro-detail-slider"
                  {% if settings.enable_rtl %}
                    dir="rtl"
                  {% endif %}
                >
                  {% for media in product.media %}
                    <div
                      class="slick-slide"
                      data-image-id="{{ media.id }}"
                      data-image="{{ media.src | image_url: 'master' }}"
                    >
                      <a
                        class="product-single__thumbnail"
                        href="javascript:void(0)"
                        class="text-link product-single__thumbnail"
                      >
                        <img
                          class="product-single__thumbnail-image"
                          src="{{ media.preview_image | image_url: 'master' }}"
                          alt="{{ media.alt | escape }}"
                          width="{{ media.width }}"
                          height="{{ media.height }}"
                          loading="lazy"
                        >
                        {%- if media.media_type == 'video' or media.media_type == 'external_video' -%}
                          <span class="icon-play">
                            <i class="ti-control-play"></i>
                          </span>
                        {%- endif -%}
                        {%- if media.media_type == 'model' -%}
                          <div class="product-single__thumbnail-badge">
                            <i class="ti-box"></i>
                          </div>
                        {%- endif -%}
                      </a>
                    </div>
                  {% endfor %}
                </div>
              </div>
            </div>
            <div class="product_img_top">
              <div
                class="slider-for"
                {% if settings.enable_rtl %}
                  dir="rtl"
                {% endif %}
              >
                {%- for media in product.media -%}
                  {% render 'media', media: media %}
                {%- endfor -%}
              </div>
            </div>
          </div>
        </div>
      {% endif %}
      <div class="col-xl-6 col-lg-6 col-md-12 col-12 product_details product_details_content">
        <div class="product-breadcrumb">
          <ul class="breadcrumb-list">
            <li class="breadcrumb-item">
              <a href="/" title="{{ 'general.breadcrumbs.home_link_title' | t }}">
                {{- 'general.breadcrumbs.home' | t -}}
              </a>
            </li>
            {% if template contains 'product' %}
              {% if collection %}
                {% if collection.handle %}
                  {% capture url %}/collections/{{ collection.handle }}{% endcapture %}
                  <li class="breadcrumb-item">
                    {{ collection.title | link_to: url }}
                  </li>
                {% endif %}
              {% endif %}
              <li class="breadcrumb-item">
                <span>{{ product.title | truncate: 30 }}</span>
              </li>
            {% endif %}
          </ul>
        </div>
        <div
          class="product-form"
          data-ajax-add-to-cart="true"
          data-product-id="{{ product.id }}"
          data-enable-history-state="true"
          data-show-sale-price-label="{{ settings.prod_sale_show }}"
          data-show-preorder-label="{{ show_preorder_label }}"
        ></div>
        <div class="product_details_info" data-type="{{ product.type }}">
          {%- for block in section.blocks -%}
            {%- case block.type -%}
              {%- when '@app' -%}
                {% render block %}
              {%- when 'text' -%}
                {{- block.settings.text -}}
              {%- when 'title_wrap' -%}
                <div class="product-title">
                  <h6>{{ product.title }}</h6>
                </div>
                {% if product.type == 'Bikini'
                  or product.type == 'Top'
                  or product.type == 'Bottom'
                  or product.type == 'One Piece'
                %}
                  {% if product.type == 'Bikini' %}
                    {% include 'tops-bottoms' %}
                  {% elsif product.type == 'One Piece' %}
                    {% include 'one-pieces' %}
                  {% else %}
                    <div class="product-title">
                      <h1 itemprop="name">
                        {{ product.title }}
                      </h1>
                    </div>
                    The product is not sold separately.
                  {% endif %}
                {% else %}
                  <div
                    class="purchase-box {% if section.settings.product_box_padding %}padding-box{% endif %}"
                    itemprop="offers"
                    itemscope
                    itemtype="http://schema.org/Offer"
                  >
                    <meta itemprop="priceCurrency" content="{{ shop.currency }}">
                    <link
                      itemprop="availability"
                      href="http://schema.org/{% if product.available %}InStock{% else %}OutOfStock{% endif %}"
                    >

                    {% comment %}
                      ID addToCartForm is a selector for the ajax cart plugin
                    {% endcomment %}
                    <div
                      id="AddToCartForm-{{ section.id }}"
                      data-AddToCartForm
                      class="form-vertical product-form product-form-{{ section.id }}"
                      data-section="{{ section.id }}"
                    >
                      {% form 'product', product %}
                        <div class="product-title">
                          <h1 itemprop="name">
                            {% unless section_onboarding %}
                              {{ product.title }}

                            {% else %}
                              {{ 'homepage.onboarding.product_title' }}
                            {% endunless %}
                          </h1>
                          {% if section.settings.show_vendors %}
                            <span class="vendor">
                              {% unless section_onboarding %}
                                {{ product.vendor | link_to_vendor }}
                              {% else %}
                                {{ 'homepage.onboarding.product_vendor' }}
                              {% endunless %}
                            </span>
                          {% endif %}
                        </div>

                        <div class="selection-wrapper price product-single__price-{{ section.id }}">
                          {% unless section_onboarding %}
                            <span
                              class="money"
                              id="ProductPrice-{{ section.id }}"
                              data-ProductPrice
                              itemprop="price"
                              content="{{ current_variant.price | money_without_currency | remove: ',' }}"
                            >
                              {{- current_variant.price | money -}}
                            </span>
                          {% else %}
                            <span
                              class="money"
                              id="ProductPrice-{{ section.id }}"
                              data-ProductPrice
                              itemprop="price"
                              content="{{ 1999 | money_without_currency | remove: ',' }}"
                            >
                              {{- 1999 | money -}}
                            </span>
                          {% endunless %}

                          {% if current_variant.compare_at_price > current_variant.price %}
                            <p id="ComparePrice-{{ section.id }}" data-ComparePrice style="display:block;">
                              {{ 'products.product.compare_at' }}
                              <span class="money">{{ current_variant.compare_at_price | money }}</span>
                            </p>
                          {% else %}
                            <p id="ComparePrice-{{ section.id }}" data-ComparePrice style="display:none;">
                              {{ 'products.product.compare_at' }}
                              <span class="money">{{ current_variant.compare_at_price | money }}</span>
                            </p>
                          {% endif %}
                        </div>
                        {% include 'product-customizer' %}
                        {%- comment -%}
                          Quantity Seletor
                        {%- endcomment -%}
                        {%- capture quantity_selector -%}
                    <div class="selector-wrapper quantity quantity-{{ section.id }}" {% unless current_variant.available or section_onboarding %}style="display:none;"{% endunless %}>
                      <label for="Quantity">{{ 'products.product.quantity' | t }}</label>
                      <div class="quantity-select quantity-select-{{ section.id }}">
                        <div class="button-wrapper">
                          <button class="adjust adjust-minus">-</button>
                        </div>
                        <div class="input-wrapper">
                          <input type="text" class="quantity" value="1" min="1" pattern="[0-9]*" name="quantity" id="Quantity-{{ section.id }}" data-Quantity>
                        </div>
                        <div class="button-wrapper">
                          <button class="adjust adjust-plus">+</button>
                        </div>
                      </div>
                    </div>
                  {%- endcapture -%}

                        {% comment %}
                          Collection of variant options
                        {% endcomment %}
                        {% unless product.has_only_default_variant %}
                          <div class="selection-wrapper variant js">
                            <div class="variant-grid">
                              {% for option in product.options_with_values %}
                                {% assign index = forloop.index %}

                                <div class="selector-wrapper">
                                  <label for="SingleOptionSelector-{{ forloop.index0 }}">
                                    {{ option.name }}
                                  </label>

                                  <div class="variant-swatches">
                                    {% for value in option.values %}
                                      <div class="swatch-item acqua-tooltip" data-direction="top">
                                        <input
                                          type="radio"
                                          class="single-option-selector single-option-selector-{{ section.id }}"
                                          id="p-variant-{{ section.id }}-{{ index }}-{{ forloop.index0 }}"
                                          name="{{ option.name }}"
                                          data-name="{{ option.name }}"
                                          data-index="option{{ index }}"
                                          value="{{ value | escape }}"
                                          {% if option.selected_value == value %}
                                            checked
                                          {% endif %}
                                        >
                                        <label
                                          class="tooltip_initiator"
                                          for="p-variant-{{ section.id }}-{{ index }}-{{ forloop.index0 }}"
                                        >
                                          {% if option.name == 'Color' %}
                                            <img src="{{ value | downcase | escape | append:'.jpg' | strip | replace: " ", "-" | asset_url }}">
                                          {% else %}
                                            {{ value }}
                                          {% endif %}
                                        </label>
                                        {% if option.name == 'Color' %}
                                          <div class="tooltip_data">
                                            {{ value }}
                                          </div>
                                        {% endif %}
                                      </div>
                                    {% endfor %}
                                  </div>
                                </div>
                              {% endfor %}

                              <!--
                                {% for option in product.options_with_values %}
                                  <div class="selector-wrapper">
                                    <label for="SingleOptionSelector-{{ forloop.index0 }}">
                                      {{ option.name }}
                                    </label>

                                    <select class="single-option-selector single-option-selector-{{ section.id }}" id="SingleOptionSelector-{{ section.id }}-{{ forloop.index0 }}" data-name="{{ option.name }}" data-index="option{{ forloop.index }}">
                                      {% for value in option.values %}
                                        <option value="{{ value | escape }}" {% if option.selected_value == value %}selected="selected"{% endif %}>
                                          {{ value }}
                                        </option>
                                      {% endfor %}
                                    </select>
                                  </div>
                                {% endfor %}
                              -->

                              {% if section.settings.product_quantity_enable %}
                                {{ quantity_selector }}
                              {% endif %}
                            </div>
                          </div>
                        {% else %}
                          {% if section.settings.product_quantity_enable %}
                            <div class="selection-wrapper variant js">
                              {{ quantity_selector }}
                            </div>
                          {% else %}
                            {%- assign cart_buttons_margin = 'cart_buttons__margin' -%}
                          {% endif %}
                        {% endunless %}

                        {% comment %}
                          Primary variant select controlled JS
                        {% endcomment %}
                        <div class="selection-wrapper variant no-js">
                          <div class="selector-wrapper full-width">
                            <select
                              name="id"
                              id="ProductSelect-{{ section.id }}"
                              data-section="{{ section.id }}"
                              class="product-form__variants no-js"
                            >
                              {% for variant in product.variants %}
                                {% if variant.available %}
                                  <option
                                    {% if variant == product.selected_or_first_available_variant %}
                                      selected="selected"
                                    {% endif %}
                                    value="{{ variant.id }}"
                                    data-sku="{{ variant.sku }}"
                                  >
                                    {{ variant.title }} - {{ variant.price | money_with_currency }}
                                  </option>
                                {% else %}
                                  <option disabled="disabled">
                                    {{ variant.title }} - {{ 'products.product.sold_out' | t }}
                                  </option>
                                {% endif %}
                              {% endfor %}
                            </select>
                          </div>
                        </div>

                        <div class="error cart-error cart-error-{{ section.id }}" style="display:none;"></div>
                        <div
                          id="CartButtons-{{ section.id }}"
                          class="cart-buttons {% if cart_buttons_margin %}{{ cart_buttons_margin }}{% endif %} {% if section.settings.show_payment_button and current_variant.available %}cart-buttons__enabled{% elsif section_onboarding %}cart-buttons__enabled{% endif %}"
                        >
                          <div class="add-to-cart-with-wishlist">
                            <!-- Swym button on product pages -->
                            <div class="swym-wishlist-button-bar"></div>
                            <!-- Swym button on product pages -->

                            <div class="button-wrapper default-cart-button">
                              <button
                                type="submit"
                                name="add"
                                id="AddToCart-{{ section.id }}"
                                data-AddToCart
                                class="default-cart-button__button {% unless current_variant.available or section_onboarding %}disabled{% endunless %}"
                                {% unless current_variant.available %}
                                  disabled
                                {% endunless %}
                              >
                                <span id="AddToCartText-{{ section.id }}" data-AddToCartText>
                                  {% unless current_variant.available or section_onboarding %}
                                    {% comment %}         {{ 'products.product.sold_out' | t }} {% endcomment %}
                                    SOLD OUT
                                  {% else %}
                                    {% comment %}           {{ 'products.product.add_to_cart' | t }}  {% endcomment %}
                                    ADD TO BAG
                                  {% endunless %}
                                </span>
                              </button>
                            </div>
                          </div>

                          <style>
                              .add-to-cart-with-wishlist{
                                display: flex;
                                align-items: flex-end;
                              }

                            .button-wrapper{
                              width: 80% !important;
                            }
                            .swym-wishlist-button-bar{
                              width: 20% !important;


                            }
                            .swym-fave-count{
                              display: none !imortant;
                            }

                            @media only screen and (max-width: 620px){
                              .swym-wishlist-button-bar{
                              padding-left: 15px !important;

                            }
                            }
                          </style>

                          <div id="PaymentButtonContainer-{{ section.id }}" class="payment-button__container">
                            {% if section.settings.show_payment_button %}
                              {{ form | payment_button }}
                            {% endif %}
                          </div>
                        </div>
                      {% endform %}
                    </div>
                  </div>
                {% endif %}

              {%- when 'short_description' -%}
                {% if product.metafields.custom.short_description %}
                  <div class="available-desc">
                    <div class="product-description">
                      <p>{{ product.metafields.custom.short_description }}</p>
                    </div>
                  </div>
                {% endif %}
              {%- when 'product_variant_picker' -%}
                <div class="pro-detail-action">
                  <form
                    action="/cart/add"
                    method="post"
                    class="cart-{{ product.id }}"
                    enctype="multipart/form-data"
                    id="add-item-form"
                  >
                    {% render 'product-swatch-variant', product: product, block: block %}
                    <div class="product-actions">
                      <div class="product-quantity-action">
                        {% render 'product-quantity', product: product %}
                        {% render 'product-cart-action', product: product %}
                      </div>
                      <div class="instant-buy">
                        {% render 'instant-buy', product: product %}
                      </div>
                    </div>
                  </form>
                </div>
              {%- when 'product_sku' -%}
                <div class="pro-skss">
                  {%- if current_variant.sku.size > 0 -%}
                    <div class="product-sku">
                      <h6>{{ block.settings.product_sku_title }}</h6>
                      <span class="variant-sku" id="variantsku">{{ current_variant.sku }}</span>
                    </div>
                  {%- endif -%}
                  {% if block.settings.social_share_enable %}
                    {% render 'social-share' %}
                  {% endif %}
                </div>
              {%- when 'payment_img' -%}
                <div class="product-payment-image">
                  {% render 'payment-icon' %}
                </div>
            {%- endcase -%}
          {%- endfor -%}
        </div>
      </div>
    </div>
  </div>
</section>
<script type="application/json" id="ProductJson-{{ product.id }}">
  {{- product | json -}}
</script>

{% render 'structured-data-product', product: product, current_variant: product.selected_or_first_available_variant %}
{% schema %}
{
  "name": "Product",
  "settings": [
    {
      "type": "header",
      "content": "Section Padding"
    },
    {
      "type": "paragraph",
      "content": "Desktop / Laptop / tablet"
    },
    {
      "type": "range",
      "id": "section_padding_top",
      "label": "Section Padding Top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 100
    },
    {
      "type": "range",
      "id": "section_padding_bottom",
      "label": "Section Padding Bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 100
    },
    {
      "type": "paragraph",
      "content": "Ipad pro / Ipad"
    },
    {
      "type": "range",
      "id": "section_padding_top_ipad",
      "label": "Section Padding Top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 60
    },
    {
      "type": "range",
      "id": "section_padding_bottom_ipad",
      "label": "Section Padding Bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 60
    },
    {
      "type": "paragraph",
      "content": "Mobile"
    },
    {
      "type": "range",
      "id": "section_padding_top_xs",
      "label": "Section Padding Top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "section_padding_bottom_xs",
      "label": "Section Padding Bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 40
    },
    {
      "type": "radio",
      "id": "product_style_handle",
      "label": "Product Style",
      "options": [
        {
          "label": "Bottom Thumbnail",
          "value": "style_1"
        },
        {
          "label": "Right Thumbnail",
          "value": "style_2"
        },
        {
          "label": "Left Thumbnail",
          "value": "style_3"
        }
      ],
      "default": "style_1"
    },
    {
      "type": "header",
      "content": "Product Background Color"
    },
    {
      "type": "color",
      "id": "pro_bg_color",
      "label": "Background Color",
      "default": "#F7F7F7"
    },
    {
      "type": "header",
      "content": "Section Border"
    },
    {
      "type": "range",
      "id": "border",
      "label": "Border",
      "min": 0,
      "max": 2,
      "step": 1,
      "unit": "px",
      "default": 1
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border Color",
      "default": "#F7F7F7"
    },
    {
      "type": "checkbox",
      "id": "border_enable",
      "label": "Show Section Border",
      "default": false
    },
    {
      "type": "range",
      "id": "border_color_opacity",
      "label": "Theme Border Color Opacity",
      "min": 0,
      "max": 1,
      "step": 0.1,
      "default": 0.3
    },
    {
      "type": "header",
      "content": "Product Zoom Option"
    },
    {
      "type": "checkbox",
      "id": "zoom_enable",
      "label": "Show product zoom enable",
      "default": false
    },
    {
      "type": "header",
      "content": "Product Inventory"
    },
    {
      "type": "text",
      "id": "availability_title",
      "label": "Available Title",
      "default": "Availability:"
    },
    {
      "type": "text",
      "id": "brand_title",
      "label": "Brand Title",
      "default": "Brand:"
    },
    {
      "type": "text",
      "id": "in_stock_title",
      "label": "Stock Title",
      "default": "In stock"
    },
    {
      "type": "text",
      "id": "out_of_stock_title",
      "label": "Stock Title",
      "default": "Out of stock"
    },
    {
      "type": "header",
      "content": "Product Color Settings"
    }
  ],
  "blocks": [
    {
      "type": "@app"
    },
    {
      "type": "text",
      "name": "Text block",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "default": "Text block",
          "label": "Meta metafields text"
        }
      ]
    },
    {
      "type": "title_wrap",
      "name": "Product title",
      "limit": 1
    },
    {
      "type": "short_description",
      "name": "Product short description",
      "limit": 1,
      "settings": [
        {
          "type": "header",
          "content": "metafields add"
        }
      ]
    },
    {
      "type": "product_variant_picker",
      "name": "Product Variant",
      "limit": 1,
      "settings": [
        {
          "type": "header",
          "content": "Product Variant"
        },
        {
          "type": "radio",
          "id": "product_variant_handle",
          "label": "Variant Option",
          "options": [
            {
              "label": "Select Option",
              "value": "product_variant_select_option"
            },
            {
              "label": "Swatch Option",
              "value": "product_variant_swatch_option"
            }
          ],
          "default": "product_variant_swatch_option"
        },
        {
          "type": "paragraph",
          "content": "Product Variant Option Swatch Option For Color"
        },
        {
          "type": "checkbox",
          "id": "product_variant_color_image_enable",
          "label": "Show Image In-place Of Color",
          "default": true
        }
      ]
    },
    {
      "type": "product_sku",
      "name": "Product Sku",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "product_sku_title",
          "label": "SKU Title",
          "default": "SKU:"
        },
        {
          "type": "header",
          "content": "Social Option"
        },
        {
          "type": "checkbox",
          "id": "social_share_enable",
          "label": "Show Social Share",
          "default": true
        },
        {
          "type": "text",
          "id": "social_share_title",
          "label": "Social Share Title",
          "default": "Share:"
        }
      ]
    },
    {
      "type": "payment_img",
      "name": "Payment Image",
      "limit": 1
    },
    {
      "type": "color",
      "name": "Product Color",
      "limit": 50,
      "settings": [
        {
          "type": "text",
          "id": "color_name",
          "label": "Color Name",
          "default": "Red"
        },
        {
          "type": "color",
          "id": "color_hex",
          "label": "Color Hex Code",
          "default": "#FF0000"
        }
      ]
    }
  ]
}
{% endschema %}

<script type="text/javascript">
  window.onload = function() {
    $('.slider-for').slick({
      slidesToShow: 1,
      arrows: false,
      dots: true,
      infinite: false,
      adaptiveHeight: true
    });
    $('.slider-nav').slick({
      slidesToShow: 4,
      arrows: false,
      {% if section.settings.product_style_handle == 'style_2' or section.settings.product_style_handle == 'style_3' %}
      vertical: true,
      verticalSwiping: true,
      {% endif %}
      {% if settings.enable_rtl %}
      rtl: true,
      {% endif %}
      infinite: false,
      asNavFor: '.slider-for',
      dots: false,
      focusOnSelect: true,
      responsive: [
      {
        breakpoint: 480,
        settings: {
          vertical: false,
          verticalSwiping: false,
        }
      }
      ]
    });
    $(window).resize(function() {
      $('.slider-for')[0].slick.refresh();
      $('.slider-nav')[0].slick.refresh();
    });
    new Shopify.OptionSelectors('productSelect', {
      product: {{ product | json }},
      onVariantSelected: selectCallback,
      enableHistoryState: true
    });
    {% if product.options.size == 1 and product.options.first != 'Title' %}
    $('.selector-wrapper:eq(0)').prepend('<label for="productSelect-option-0">{{ product.options.first | escape }}</label>');
    {% endif %}
    {% if product.variants.size == 1 and product.variants.first.title contains 'Default' %}
    $('.selector-wrapper').hide();
    $('.swatch').hide();
    {% endif %}
    {%- liquid
    assign found_one_in_stock = false
    -%}
    {% for variant in product.variants %}
    {% if variant.available and found_one_in_stock == false %}
    {% assign found_one_in_stock = true %}
    {% for option in product.options %}
    $('.single-option-selector:eq({{ forloop.index0 }})').val({{ variant.options[forloop.index0] | json }}).trigger('change');
    {% endfor %}
    {% endif %}
    {% endfor %}
    $('.product-single .single-option-selector').wrap('<div class="selector-arrow">');
  };
  var selectCallback = function(variant, selector) {
    timber.productPage({
      money_format: "{{ shop.money_format }}",
      variant: variant,
      selector: selector
    });
    if (variant) {
      var form = jQuery('#' + selector.domIdPrefix).closest('form');
      for (var i=0,size=variant.options.size; i<size; i++) {
        var val = variant.options[i].replace(/'/g,"&#039;");
        var radioButton = form.find(".swatch[data-option-index='" + i + "'] :radio[value='" + val +"']");
        if (radioButton.size()) {
          radioButton.get(0).checked = true;
        }
      }
    }
  }
  {% if section.settings.zoom_enable %}
  function zoom(e){
    var zoomer = e.currentTarget;
    e.offsetX ? offsetX = e.offsetX : offsetX = e.touches[0].pageX
    e.offsetY ? offsetY = e.offsetY : offsetX = e.touches[0].pageX
    x = offsetX/zoomer.offsetWidth*100
    y = offsetY/zoomer.offsetHeight*100
    zoomer.style.backgroundPosition = x + '% ' + y + '%';
  }
  {% endif %}
</script>
<style>
  .product-details-page{
    padding-top: {{ section.settings.section_padding_top }}px;
    padding-bottom: {{ section.settings.section_padding_bottom }}px;
    background-color: {{ section.settings.pro_bg_color }};
    {% if section.settings.border_enable %}
    border-top: {{ section.settings.border }}px solid {{ section.settings.border_color | color_modify: 'alpha', section.settings.border_color_opacity }};
    {% endif %}
  }
  @media (max-width: 1199px) {
    .product-details-page{
      padding-top: {{ section.settings.section_padding_top_ipad }}px;
      padding-bottom: {{ section.settings.section_padding_bottom_ipad }}px;
    }
  }
  @media (max-width: 767px) {
    .product-details-page{
      padding-top: {{ section.settings.section_padding_top_xs }}px;
      padding-bottom: {{ section.settings.section_padding_bottom_xs }}px;
    }
  }
  {% render 'product-template-css' product: product %}
</style>
